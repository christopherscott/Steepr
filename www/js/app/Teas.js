// Generated by CoffeeScript 1.3.1
(function() {
  var DEFAULT_TEAS,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor; child.__super__ = parent.prototype; return child; };

  define(["use!backbone", "Tea", "use!backbone_localStorage"], function(Backbone, Tea) {
    var Teas;
    return Teas = (function(_super) {

      __extends(Teas, _super);

      Teas.name = 'Teas';

      function Teas() {
        return Teas.__super__.constructor.apply(this, arguments);
      }

      Teas.prototype.localStorage = new Backbone.LocalStorage("Teas");

      Teas.prototype.model = Tea;

      Teas.prototype.activate = function(type) {
        this.each(function(model) {
          return model.set("active", false);
        });
        _.each(this.where({
          name: type
        }), function(model) {
          return model.set("active", true);
        });
        return console.log(this.getActive().get("name"));
      };

      Teas.prototype.getActive = function() {
        return this.where({
          active: true
        })[0];
      };

      Teas.prototype.comparator = function(model) {
        return model.get("index");
      };

      Teas.prototype.loadDefaults = function() {
        var that;
        that = this;
        return _.each(DEFAULT_TEAS, function(tea) {
          return that.create(tea);
        });
      };

      return Teas;

    })(Backbone.Collection);
  });

  DEFAULT_TEAS = [
    {
      name: "Green",
      times: [5, 10, 15, 20],
      temperature: "170-180",
      count: 0,
      active: true,
      index: 0
    }, {
      name: "White",
      times: [60, 60, 90, 105],
      temperature: "170-180",
      count: 0,
      index: 1
    }, {
      name: "Black",
      times: [60, 60, 90, 90],
      temperature: "212",
      count: 0,
      index: 2
    }, {
      name: "Oolong",
      times: [30, 30, 45, 45],
      temperature: "190-195",
      count: 0,
      index: 3
    }, {
      name: "Pu-erh",
      times: [30, 30, 45, 60],
      temperature: "212",
      count: 0,
      index: 4
    }
  ];

}).call(this);
